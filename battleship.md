# Battleship — Project

## Цель
Реализовать локальную (hot-seat) версию морского боя: два игрока на одном компьютере, 10×10 поля, базовая логика расстановки кораблей и стрельбы.

## Отдельные файлы
```
/battleship/
├─ src/
│  ├─ main.cpp        # точка входа, игровой цикл hot-seat
│  ├─ game.h          # объявления (Grid, Ship, функции)
│  ├─ game.cpp        # реализация логики: placeShip, makeShot, drawBoard, checkWin
│  └─ utils.cpp       # мелкие утилиты (ввод, проверки)
├─ tests/
│  └─ test_game.cpp   # unit-тесты логики (placeShip, makeShot, checkWin)
└─ CONTRIBUTING.md
```

## Задачи
- [ ] **Определить структуры**: Grid (int[10][10]), Ship (length, coords, ?orientation?, hits).  
      *Критерий:* компилируется, простые unit-тесты по созданию корабля.
- [ ] **placeShip()** — расстановка кораблей с проверкой границ и пересечений.  
      *Критерий:* нельзя выйти за границу, нельзя перекрывать другой корабль.
- [ ] **drawBoard()** — отрисовка своего поля и поля противника (видно только свои корабли и результаты выстрелов).  
      *Критерий:* читаемый CLI-вывод 10×10 с обозначениями (0/1/2/3 или символы).
- [ ] **makeShot(x,y)** — обработка выстрела: промах (2), попадание (3), потопил (возвращаем статус).  
      *Критерий:* корректный модификатор поля противника и возвращаемый результат.
- [ ] **checkWin()** — проверка, остались ли корабли живыми.  
      *Критерий:* возвращает true, когда все клетки кораблей противника помечены как попадание.
- [ ] **Игровой цикл (hot-seat)** — смена ходов между двумя игроками, ввод координат, вывод результата.  
      *Критерий:* два игрока могут играть на одном терминале до победы одного из них.
- [ ] **Валидация ввода** — проверка формата координат, повторных выстрелов.  
      *Критерий:* запрет на повторный выстрел по той же клетке, корректные сообщения об ошибке.
- [ ] **Unit-тесты** — для placeShip, makeShot, checkWin.  
      *Критерий:* базовые кейсы (простые и граничные) проходят автоматически.
- [ ] **Документация** — короткий README с правилами запуска и форматом полей.  
      *Критерий:* любой со скомпилированным проектом может запустить игру.

## API функций (коротко)
- `bool placeShip(Grid &g, Ship s)` — возвращает true если размещение прошло успешно.
- `void drawBoard(const Grid &myGrid, const Grid &enemyShots)` — выводит два поля в консоль.
- `ShotResult makeShot(Grid &enemyGrid, int x, int y)` — возвращает enum {MISS, HIT, SINK, ALREADY_SHOT}.
- `bool checkWin(const Grid &grid)` — true если кораблей нет (все клетки кораблей помечены как попадание).

## Формат состояний ячеек
- `0` — пусто
- `1` — корабль
- `2` — промах
- `3` — попадание

## Быстрые заметки по реализации (без воды)
- Для проверки потопления — храните список координат корабля или проверяйте вокруг клетки, принадлежащие одному кораблю.
- При расстановке убедиться, что соседние клетки также пустые.
- Ввод координат: `A1`..`J10` → переводить в индексы (0..9,0..9).
- Для тестов — замокать `Grid` и вызывать `placeShip`/`makeShot`, проверять состояния массива.
